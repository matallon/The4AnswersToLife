<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="stylesheet" href="../../CSS/water.css">
      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.6.0/p5.js"></script>

      <title>water</title>
    </head>

    <body>
      <script>
        let bgImg;
let personImage;
let person;
let yayImg;
let showyayImg = false;
let showText = false;

function preload() {
  // Load the background image
  bgImage = loadImage('ocean.jpg');
  personImage = loadImage('person.png');
  yayImg = loadImage('yay.png');

}

function setup() {
  createCanvas(windowWidth, windowHeight);
  person = new Person();
}

function draw() {
  // background(220);
  image(bgImage, 0, 0, width, height);
  
if (showyayImg) {
  image(yayImg, person.x, person.y);
  } else {
      person.display();
  }

  
if(person.x >= width/1.4 && person.x <= width && person.y >= height/5 && person.y <= height/2.4){
  noFill();
  stroke(255,0,0);
  rect(width/1.25, height/1.7, 100,50);

    fill(0);
    textSize(30);
    textAlign(CENTER, CENTER);
    text('YAY!', width/1.2, height/1.6);
    showyayImg = true;
    showText = true;
  }else{
    showyayImg = false;
  }
  
  noFill();
  stroke(255,0,0,150);
  strokeWeight(2);
  rect(width / 1.3, height/5, width/5,height/2.8);
}
function mousePressed() {
  if (showText && mouseX >= width/1.25 && mouseX <= width/1.25 + 100
   && mouseY >= height/1.7 && mouseY <= height/1.7 + 50) {
            window.open("bucket.html", "_blank"); // Open new page in a new tab
    }
}
function keyPressed() {
  if (keyCode === LEFT_ARROW) {
      person.move(-5, 0);
  } else if (keyCode === RIGHT_ARROW) {
      person.move(5, 0);
  } else if (keyCode === UP_ARROW) {
      person.move(0, -5);
  } else if (keyCode === DOWN_ARROW) {
      person.move(0, 5);
  }
}
class Person {
  constructor() {
      // this.x = 100;
      // this.y = height - 400;
      this.x = width - 300;
      this.y = height/2 - 100;
      this.originalX = this.x;
      this.originalY = this.y;
  }

  move(dx, dy) {
      let newX = this.x + dx;
      let newY = this.y + dy;
      this.x = constrain(newX, 0, width - personImage.width);
      this.y = constrain(newY, 0, height - personImage.height);
  }

  display() {
      imageMode(CORNER);
      image(personImage, this.x, this.y);
  }
  
  
}
      </script>
    </body>

